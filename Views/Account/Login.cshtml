@model OneJevelsCompany.Web.Controllers.LoginViewModel
@using OneJevelsCompany.Web.Routing

@{
    ViewData["Title"] = "Log in";
    // IMPORTANT: use your site layout so navbar/footer match Home
    Layout = "~/Views/Shared/_Layout.cshtml";

    var returnUrl = ViewData["ReturnUrl"] as string ?? "";
    // Show message when redirected from Build (or anything you want)
    var showBuildHint = !string.IsNullOrWhiteSpace(returnUrl)
                        && returnUrl.StartsWith("/Build", StringComparison.OrdinalIgnoreCase);
}

<div class="container" style="max-width: 520px; margin: 0 auto; padding: 48px 16px;">
    <div style="
        background: #ffffff;
        border-radius: 16px;
        box-shadow: 0 12px 28px rgba(0,0,0,.08);
        padding: 28px;
        border: 1px solid rgba(0,0,0,.06);
    ">

        <div class="text-center" style="margin-bottom: 18px;">
            <h1 style="margin:0; font-size: 30px; font-weight: 800; color:#9a5a00;">
                One Jewellery Company
            </h1>
            <h2 style="margin: 6px 0 0 0; font-size: 18px; font-weight: 700; color:#333;">
                Welcome Back
            </h2>
            <p style="margin: 6px 0 0 0; color:#666;">
                Sign in to access your account
            </p>
        </div>

        @if (showBuildHint)
        {
            <div style="
                    background: #fff7e6;
                    border: 1px solid #f2c46f;
                    border-radius: 10px;
                    padding: 12px 14px;
                    margin: 14px 0 18px 0;
                    color: #7a4a00;
                ">
                <div style="font-weight: 800; margin-bottom: 4px;">Login / Register required</div>
                <div style="font-size: 14px; line-height: 1.35;">
                    To use <b>“Build your own”</b>, please sign in.
                    If you don’t have an account yet, you can create one in a minute.
                </div>
                <div style="margin-top: 6px;">
                    <a href="@Url.RouteUrl(RouteNames.Account.Register, new { returnUrl = returnUrl })"
                       style="color:#9a5a00; font-weight:700; text-decoration: underline;">
                        Create an account
                    </a>
                </div>
            </div>
        }

        <form method="post"
              action="@Url.RouteUrl(RouteNames.Account.LoginPost, new { returnUrl = returnUrl })">

            @Html.AntiForgeryToken()

            <div asp-validation-summary="ModelOnly"
                 style="margin-bottom: 12px; color:#b91c1c;"></div>

            <div style="margin-bottom: 12px;">
                <label asp-for="Email" style="display:block; font-weight:700; margin-bottom:6px; color:#333;">
                    Email Address
                </label>
                <input asp-for="Email"
                       class="form-control"
                       style="width:100%; padding: 10px 12px; border-radius: 10px; border: 1px solid #d1d5db;"
                       placeholder="you@example.com"
                       autocomplete="username" />
                <span asp-validation-for="Email" style="color:#b91c1c; font-size: 13px;"></span>
            </div>

            <div style="margin-bottom: 12px;">
                <label asp-for="Password" style="display:block; font-weight:700; margin-bottom:6px; color:#333;">
                    Password
                </label>
                <input asp-for="Password"
                       class="form-control"
                       style="width:100%; padding: 10px 12px; border-radius: 10px; border: 1px solid #d1d5db;"
                       placeholder="••••••••"
                       autocomplete="current-password" />
                <span asp-validation-for="Password" style="color:#b91c1c; font-size: 13px;"></span>
            </div>

            <div style="display:flex; align-items:center; gap:8px; margin: 10px 0 16px 0;">
                <input asp-for="RememberMe" type="checkbox" />
                <label asp-for="RememberMe" style="margin:0; color:#333;">Remember me</label>
            </div>

            <button type="submit"
                    style="
                        width:100%;
                        background:#b7791f;
                        color:white;
                        border:none;
                        border-radius: 10px;
                        padding: 11px 14px;
                        font-weight: 800;
                        cursor:pointer;
                    ">
                Sign In
            </button>

            <div class="text-center" style="margin-top: 14px; font-size: 14px;">
                <span style="color:#555;">Don't have an account?</span>
                <a href="@Url.RouteUrl(RouteNames.Account.Register, new { returnUrl = returnUrl })"
                   style="color:#9a5a00; font-weight:800; text-decoration: underline;">
                    Register
                </a>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
