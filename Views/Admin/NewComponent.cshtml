@using Microsoft.AspNetCore.Mvc.Rendering
@model OneJevelsCompany.Web.Controllers.ComponentsController.AdminNewComponentVm
@{
    ViewData["Title"] = "New Item";
    var categories = ViewBag.Categories as IEnumerable<SelectListItem> ?? Enumerable.Empty<SelectListItem>();
}

<form asp-controller="Components" asp-action="New" method="post" enctype="multipart/form-data"
      class="max-w-3xl mx-auto bg-white p-6 rounded-2xl shadow space-y-6">
    @Html.AntiForgeryToken()

    <h2 class="text-xl font-semibold">New Item</h2>

    <div asp-validation-summary="ModelOnly" class="text-red-600 text-sm"></div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="md:col-span-2">
            <label class="block text-sm font-medium mb-1">Category</label>
            <select asp-for="ComponentCategoryId" asp-items="categories" class="w-full border rounded p-2">
                <option value="">-- select category --</option>
            </select>
            <span asp-validation-for="ComponentCategoryId" class="text-red-600 text-sm"></span>
        </div>

        <div class="md:col-span-2">
            <label class="block text-sm font-medium mb-1">Name</label>
            <input asp-for="Name" class="w-full border rounded p-2" />
            <span asp-validation-for="Name" class="text-red-600 text-sm"></span>
        </div>

        <div>
            <label class="block text-sm font-medium mb-1">Price</label>
            <input asp-for="Price" type="number" step="0.01" min="0" class="w-full border rounded p-2" />
        </div>

        <div>
            <label class="block text-sm font-medium mb-1">SKU</label>
            <input asp-for="Sku" class="w-full border rounded p-2" />
        </div>

        <div>
            <label class="block text-sm font-medium mb-1">Color</label>
            <input asp-for="Color" class="w-full border rounded p-2" />
        </div>

        <div>
            <label class="block text-sm font-medium mb-1">Size label</label>
            <input asp-for="SizeLabel" class="w-full border rounded p-2" />
        </div>

        <div class="md:col-span-2">
            <label class="block text-sm font-medium mb-1">Dimensions (semicolon separated)</label>
            <input asp-for="Dimensions" class="w-full border rounded p-2" placeholder="4x4;5x5;6x6" />
        </div>
    </div>

    <div>
        <label class="block text-sm font-medium mb-1">Upload image (optional)</label>
        <input type="file" name="image" accept="image/*" class="block w-full border rounded p-2" />
    </div>

    <div class="flex gap-3">
        <button type="submit" class="px-6 py-3 rounded-lg bg-amber-600 text-white hover:bg-amber-500">Create</button>
        <a href="/Admin/NewInvoice" class="px-6 py-3 rounded-lg border">Cancel</a>
    </div>

    <p class="text-xs text-gray-500 mt-2">
        Stock is set to 0 on creation; receive inventory via <em>New Invoice</em>.
    </p>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
